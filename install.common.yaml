- defaults:
    link:
      force: true
      create: true
      relink: true

- create:
  - ~/bin
  - ~/.secrets
  - ~/tmp
  - ~/.ssh
  - ~/.colima/default
  - ~/assets

- shell:
  - [git submodule update --init --recursive, Installing submodules]

- link:
    ~/.asdfrc: dotfiles/asdfrc
    ~/.aws/config: dotfiles/aws_config
    ~/.azure/config: dotfiles/azure_config
    ~/.bash_profile: dotfiles/bash_profile
    ~/.colima/default/colima.yaml: dotfiles/colima_default
    ~/.docker/config.js: dotfiles/docker_config
    ~/.gitconfig-all: dotfiles/gitconfig-all
    ~/.gitconfig-jim: dotfiles/gitconfig-jim
    ~/.gitconfig-work: dotfiles/gitconfig-work
    ~/.gemini/settings.json: dotfiles/gemini_settings
    ~/.config/gh/:
      glob: true
      path: dotfiles/github/*
    ~/.roo/settings/mcp_settings.json: dotfiles/roocode/mcp_settings.json
    ~/.vscode/extensions/andrewmitchell.devcontainer-template-manager-0.2.2/templates/0jimbox: devcontainer
    ~/.roo/settings/custom_modes.yaml: dotfiles/roocode/custom_modes.yaml
    ~/.roo/rules/global-rules.md: dotfiles/roocode/rules/rules/global-rules.md
    ~/.roo/rules/markdown-rules.md: dotfiles/roocode/rules/rules/markdown-rules.md
    # ~/.roo/:
    #   glob: true
    #   path: dotfiles/roocode/rules/**
    ~/.ssh/config: dotfiles/ssh_config
    ~/.tool-versions: dotfiles/asdf-tool-versions
    ~/.zsh_plugins.txt: dotfiles/zsh_plugins.txt

- shell:
    - description: Copy claude configuration files if not present
      command: |
        mkdir -p ~/.claude
        [ -f ~/.claude/settings.json ] || cp ~/.config/dotfiles/dotfiles/claude-code/claude_settings_json_bak ~/.claude/settings.json || true
        [ -f ~/.claude.json ] || cp ~/.config/dotfiles/dotfiles/claude-code/claude_json_bak ~/.claude.json || true
      stderr: true
      stdout: true

- defaults:
    link:
      force: true
      create: true

- link:
    ~/.p10k.zsh: dotfiles/p10k.zsh
    ~/.zshrc: dotfiles/zshrc


