- defaults:
    link:
      force: true
      create: true
      relink: true

- create:
  - ~/bin
  - ~/.secrets
  - ~/.logs
  - ~/tmp
  - ~/.ssh
  - ~/.colima/default
  - ~/assets/postgres
  - ~/assets/qdrant
  - ~/assets/colima
  - ~/assets/steampipe

- shell:
  - [git submodule update --init --recursive, Installing submodules]

- link:
    ~/.asdfrc: dotfiles/asdfrc
    ~/.aws/config: dotfiles/aws_config
    ~/.azure/config: dotfiles/azure_config
    ~/.bash_profile: dotfiles/bash_profile
    ~/.config/bat/config: dotfiles/bat_config
    ~/.colima/default/colima.yaml: dotfiles/colima_default
    ~/.docker/config.js: dotfiles/docker_config
    ~/.gitconfig-all: dotfiles/gitconfig-all
    # this is a hack to make p10k work since it uses and outdated fork of libgit2 that doesn't honor GIT_CONFIG_GLOBAL
    ~/.gitconfig: dotfiles/gitconfig-all
    ~/.gitconfig-jim: dotfiles/gitconfig-jim
    ~/.gitconfig-work: dotfiles/gitconfig-work
    ~/.config/gh/:
      glob: true
      path: dotfiles/github/*
    ~/.roo/settings/mcp_settings.json: dotfiles/roocode/mcp_settings.json
    ~/.vscode/extensions/andrewmitchell.devcontainer-template-manager-0.2.2/templates/0jimbox: devcontainer
    ~/.roo/settings/custom_modes.yaml: dotfiles/roocode/custom_modes.yaml
    ~/.roo/rules/global-rules.md: dotfiles/roocode/rules/rules/global-rules.md
    ~/.roo/rules/markdown-rules.md: dotfiles/roocode/rules/rules/markdown-rules.md
    # ~/.roo/:
    #   glob: true
    #   path: dotfiles/roocode/rules/**
    ~/.ssh/config: dotfiles/ssh_config
    ~/.tmux.conf: dotfiles/tmux.conf
    ~/.tool-versions: dotfiles/asdf-tool-versions
    ~/.ripgreprc: dotfiles/ripgreprc
    ~/.zsh_plugins.txt: dotfiles/zsh_plugins.txt
    ~/.gemini/settings.json: dotfiles/gemini/gemini_settings
    ~/.config/opencode/opencode.json: dotfiles/opencode/opencode.json
    ~/Library/LaunchAgents/com.user.awsrefreshtoken.plist: scripts/aws-refresh-token.plist
    # ~/Library/LaunchAgents/com.user.awsrefreshsso.plist: scripts/aws-refresh-sso.plist
    ~/assets/postgres/pg-container.sh: scripts/pg-container.sh
    ~/assets/qdrant/qdrant-container.sh: scripts/qdrant-container.sh

- link:
    ~/.claude.json: dotfiles/claude-code/claude_json
    ~/.claude/settings.json: dotfiles/claude-code/claude_settings_json
    ~/.claude/statusline-command.sh: dotfiles/claude-code/statusline-command.sh
    ~/.claude/commands/:
      glob: true
      path: dotfiles/claude-code/commands/*
    ~/.claude/skills/:
      glob: true
      path: dotfiles/claude-code/skills/*
    ~/.config/markdownlint/.markdownlint-cli2.jsonc: /Users/jimweller/tmp/platform-poc/main/.markdownlint-cli2.jsonc

- defaults:
    link:
      force: true
      create: true

- link:
    ~/.p10k.zsh: dotfiles/p10k.zsh
    ~/.zshrc: dotfiles/zshrc


