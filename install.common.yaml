- defaults:
    link:
      force: true
      create: true
      relink: true

- create:
  - ~/bin
  - ~/.secrets
  - ~/tmp
  - ~/.oh-my-zsh

- link:
    ~/.aws/config: dotfiles/aws_config
    ~/.azure/config: dotfiles/azure_config
    ~/.bash_profile: dotfiles/bash_profile
    ~/.colima/default/colima.yaml: dotfiles/colima_default
    ~/.docker/config.js: dotfiles/docker_config
    ~/.gitconfig: dotfiles/gitconfig
    ~/.gemini/settings.json: dotfiles/gemini_settings
    ~/.config/gh/:
      glob: true
      path: dotfiles/github/*
    # ~/.roo/roo-code-settings.json: dotfiles/roocode/roo-code-settings.json
    "~/.roo/":
      glob: true
      path: dotfiles/roocode/rules/**
    ~/.ssh/config: dotfiles/ssh_config
    ~/.zsh_plugins.txt: dotfiles/zsh_plugins.txt

- shell:
    - description: Copy claude configuration files if not present
      command: |
        mkdir -p ~/.claude
        [ -f ~/.claude/settings.json ] || cp ~/dotfiles/dotfiles/claude_settings_json_bak ~/.claude/settings.json || true
        [ -f ~/.claude.json ] || cp ~/dotfiles/dotfiles/claude_json_bak ~/.claude.json || true
      stderr: true
      stdout: true

# - shell:
#     - description: Install oh-my-zsh and powerlevel10k
#       command: ~/dotfiles/scripts/ohmyzsh.sh
#       stderr: true
#       stdout: true

- defaults:
    link:
      force: true
      create: true

- link:
    ~/.p10k.zsh: dotfiles/p10k.zsh
    ~/.zshrc: dotfiles/zshrc
#    ~/.oh-my-zsh/custom:
#      glob: true
#      path: dotfiles/.oh-my-zsh/custom/*


