- defaults:
    link:
      force: true
      create: true
      relink: true

- link:
    ~/.granted/config: dotfiles/granted_config_macos
    "~/Library/Application\ Support/Code/User/settings.json": dotfiles/vscode_settings.json
    "~/Library/Application\ Support/Iterm2/DynamicProfiles/JimTerm.json": dotfiles/iterm2_profile
    "~/Library/Application\ Support/Code/User/globalStorage/rooveterinaryinc.roo-cline/settings/mcp_settings.json": dotfiles/roocode/mcp_settings.json
    "~/Library/Application\ Support/Code/User/globalStorage/rooveterinaryinc.roo-cline/settings/custom_modes.yaml": dotfiles/roocode/custom_modes.yaml
    # "~/Library/Application\ Support/vscode-dev-containers/templates/0jimbox/": devcontainer/vscode_template
    # "~/Library/Application\ Support/Code/User/globalStorage/rooveterinaryinc.roo-cline/settings/":
    #   glob: true
    #   path: dotfiles/roocode/*

- shell:
    - description: MacOS Specific Zsh Plugins
      command: |
        source ~/.config/dotfiles/antidote/antidote.zsh
        antidote install alehouse
        antidote update
      stderr: true
      stdout: true


# MSFT broke custom templates
# - shell:
#     - description: Copy devcontainer template
#       command: |
#         cp -a ~/.config/dotfiles/devcontainer/vscode_template ~/Library/Application\ Support/vscode-dev-containers/templates/0jimbox
